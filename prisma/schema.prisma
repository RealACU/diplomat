generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
  // uncomment next line if you use Prisma <5.10
  // directUrl = env("DATABASE_URL_UNPOOLED")
}

model Tourney {
  id          String      @id @default(cuid())
  creatorId   String
  name        String
  school      String
  location    String
  startDate   Int
  endDate     Int
  allChairIds    String[]
  allDelegateIds String[]
  committees  Committee[]
}

model Committee {
  id              Int              @id @default(autoincrement())
  name            String
  roomNumber      Int
  chairIds        String[]
  delegateIds     String[]
  delegateResults DelegateResult[]

  Tourney   Tourney? @relation(fields: [tourneyId], references: [id], onDelete: Cascade)
  tourneyId String?
}

model DelegateResult {
  id         Int    @id @default(autoincrement())
  delegateId String
  feedback   String

  Committee   Committee? @relation(fields: [committeeId], references: [id], onDelete: Cascade)
  committeeId Int?
}
